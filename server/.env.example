# Porua Server Configuration
# Copy this file to .env and customize the values

# =============================================================================
# Server Configuration
# =============================================================================

# Server port (default: 3000)
# PORT=3000

# =============================================================================
# TTS Pool Configuration
# =============================================================================

# Number of TTS engines in the pool (default: 2)
# Higher values allow more concurrent requests but use more memory
TTS_POOL_SIZE=2

# =============================================================================
# Authentication Configuration
# =============================================================================

# Path to API keys file (one key per line)
# If not set, will check default locations:
#   - ./api_keys.txt
#   - ~/.porua/api_keys.txt
#   - /etc/porua/api_keys.txt
# Leave empty to disable authentication
# TTS_API_KEY_FILE=./api_keys.txt

# =============================================================================
# Rate Limiting Configuration
# =============================================================================

# Rate limiting mode (default: auto)
# Options:
#   - auto: per-key if auth enabled, per-ip otherwise (RECOMMENDED)
#   - per-key: rate limit by API key (requires authentication)
#   - per-ip: rate limit by IP address
#   - disabled: no rate limiting (NOT RECOMMENDED for production)
RATE_LIMIT_MODE=auto

# -----------------------------------------------------------------------------
# Authenticated Rate Limits (when using API keys)
# -----------------------------------------------------------------------------

# Maximum requests per second per API key (default: 10)
RATE_LIMIT_AUTHENTICATED_PER_SECOND=10

# Maximum burst size per API key (default: 20)
# This is the number of requests that can be made immediately
# before rate limiting kicks in
RATE_LIMIT_AUTHENTICATED_BURST_SIZE=20

# -----------------------------------------------------------------------------
# Unauthenticated Rate Limits (when NOT using API keys)
# -----------------------------------------------------------------------------

# Maximum requests per second per IP address (default: 5)
# More restrictive than authenticated to prevent abuse
RATE_LIMIT_UNAUTHENTICATED_PER_SECOND=5

# Maximum burst size per IP address (default: 10)
# More restrictive than authenticated to prevent abuse
RATE_LIMIT_UNAUTHENTICATED_BURST_SIZE=10

# -----------------------------------------------------------------------------
# Legacy Configuration (for backward compatibility)
# -----------------------------------------------------------------------------
# These set BOTH authenticated and unauthenticated limits if the specific
# variables above are not set
# RATE_LIMIT_PER_SECOND=10
# RATE_LIMIT_BURST_SIZE=20

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (default: porua_server=info,ort=warn,kokoros=warn)
# Options: error, warn, info, debug, trace
# Examples:
#   RUST_LOG=debug                    # Debug logs for all modules
#   RUST_LOG=porua_server=debug       # Debug logs for porua_server only
#   RUST_LOG=info                     # Info logs for everything
# RUST_LOG=porua_server=info,ort=warn,kokoros=warn

# =============================================================================
# Model Configuration (Advanced)
# =============================================================================

# Custom model path (if not using default ~/.cache/kokoro location)
# KOKORO_MODEL_PATH=/path/to/model

# Custom voices path (if not using default ~/.cache/kokoro location)
# KOKORO_VOICES_PATH=/path/to/voices
